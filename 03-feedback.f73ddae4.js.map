{"version":3,"sources":["js/03-feedback.js"],"names":["formRef","document","querySelector","FEEDBACK_FORM_STATE","data","email","message","initForm","dataLocalStorage","localStorage","getItem","JSON","parse","elements","value","window","addEventListener","e","preventDefault","formData","FormData","forEach","name","console","log","currentTarget","reset","removeItem","target","setItem","stringify"],"mappings":";AAAA,MAAMA,EAAUC,SAASC,cAAc,kBACjCC,EAAsB,sBACtBC,EAAO,CACXC,MAAO,GACPC,QAAS,IAiBX,SAASC,IACHC,IAAAA,EAAmBC,aAAaC,QAAQP,GACxCK,IACFA,EAAmBG,KAAKC,MAAMJ,GAC9BJ,EAAKC,MAAQG,EAAiBH,MAC9BD,EAAKE,QAAUE,EAAiBF,QAChCN,EAAQa,SAASR,MAAMS,MAAQN,EAAiBH,MAChDL,EAAQa,SAASP,QAAQQ,MAAQN,EAAiBF,SAtBtDS,OAAOC,iBAAiB,mBAAoBT,GAC5CP,EAAQgB,iBAAiB,SAAUC,IACjCA,EAAEC,iBACIC,MAAAA,EAAW,IAAIC,SAASpB,GAC9BmB,EAASE,QAAQ,CAACP,EAAOQ,IAAUH,EAASG,GAAQR,GACpDS,QAAQC,IAAIL,GACZF,EAAEQ,cAAcC,QAChBjB,aAAakB,WAAWxB,KAG1BH,EAAQgB,iBAAiB,QAASC,IAChCb,EAAKa,EAAEW,OAAON,MAAQL,EAAEW,OAAOd,MAC/BL,aAAaoB,QAAQ1B,EAAqBQ,KAAKmB,UAAU1B","file":"03-feedback.f73ddae4.js","sourceRoot":"../src","sourcesContent":["const formRef = document.querySelector('.feedback-form');\nconst FEEDBACK_FORM_STATE = 'feedback-form-state';\nconst data = {\n  email: '',\n  message: '',\n};\nwindow.addEventListener('DOMContentLoaded', initForm);\nformRef.addEventListener('submit', e => {\n  e.preventDefault();\n  const formData = new FormData(formRef);\n  formData.forEach((value, name) => (formData[name] = value));\n  console.log(formData);\n  e.currentTarget.reset();\n  localStorage.removeItem(FEEDBACK_FORM_STATE);\n});\n\nformRef.addEventListener('input', e => {\n  data[e.target.name] = e.target.value;\n  localStorage.setItem(FEEDBACK_FORM_STATE, JSON.stringify(data));\n});\n\nfunction initForm() {\n  let dataLocalStorage = localStorage.getItem(FEEDBACK_FORM_STATE);\n  if (dataLocalStorage) {\n    dataLocalStorage = JSON.parse(dataLocalStorage);\n    data.email = dataLocalStorage.email;\n    data.message = dataLocalStorage.message;\n    formRef.elements.email.value = dataLocalStorage.email;\n    formRef.elements.message.value = dataLocalStorage.message;\n  }\n}\n"]}